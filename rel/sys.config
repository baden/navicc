[
    {navicc, [
    ]},

    {navidb, [
        {hostname, "localhost"},
        % {hostname, "new.navi.cc"},
        {port, 27017},
        % {poolsize, 3},
        {database, <<"erlnavicc">>}
        % {user, <<"badenmongodb">>},
        % {password, <<"1q2w3e">>}
    ]},

    {sasl, [
      {sasl_error_logger, {file, "logs/sasl-error.log"}},
      {errlog_type, error},
      {error_logger_mf_dir, "logs/sasl"},
      {error_logger_mf_maxbytes, 10485760},
      {error_logger_mf_maxfiles, 5}
    ]},

    {oauth2, [
        {backend, oauth2_ets_backend},
        {expiry_time, 3600}
    ]},

    % {lager, [
    %     {handlers, [
    %         %%{lager_console_backend, [info, {lager_default_formatter,[{eol, "\r\n"}]}]},
    %         %%{lager_console_backend, [info, {lager_default_formatter, [time," [",severity,"] ", message, "\n"]}]},
    %         {lager_console_backend, [info, {lager_default_formatter, [time, " ", message, "\n"]}]},
    %         % {lager_console_backend, [info]},
    %         %% file is shadowed by ejabberd.cfg
    %         {lager_file_backend, [{file, "logs/erlnavicc.log"}, {level, info}, {size, 2097152}, {date, "$D0"}, {count, 5}]}
    %     ]},
    %     {colored, true}
    % ]},

    {lager, [
            {crash_log, "logs/crash.log"}, {crash_log_size, 0}, {crash_log_date, "$D0"}, {crash_log_count, 5},
            {error_logger_hwm, 100},
            {async_threshold, 30}, {async_threshold_window, 10},
            {handlers, [
                    % {lager_console_backend, info},
                    {lager_console_backend, [warning, {lager_default_formatter, [time, " [",severity,"] ", pid, "@", module, " ", message, "\n"]}]},
                    {lager_file_backend, [{file, "logs/events.log"}, {level, notice}, {size, 0}, {date, "$D0"}, {count, 5}, {formatter, lager_default_formatter},
                                          {formatter_config, [date, " ", time," [",severity,"] ",pid, " ", message, "\n"]}]},
                    {lager_file_backend, [{file, "logs/access.log"}, {level, none}, {size, 0}, {date, "$D0"}, {count, 5}, {formatter, lager_default_formatter},
                                          {formatter_config, [date, " ", time," [",severity,"] ", pid, " ", peer, " \"", method, " ", url, "\" ", status, "\n"]}]}
            ]},
            {traces, [
                    {{lager_file_backend, "logs/access.log"}, [{tag, access}], info}
            ]}
    ]}


    % {sync, [
    %         {growl, [errors, warnings]},
    %         {log, all}
    %         % {non_descendants, fix},
    %         % {executable, auto},
    %         % {excluded_modules, []}
    % ]}
].
